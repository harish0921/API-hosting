<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Profile | GovPortal</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="style.css">

  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>

<!-- NAVBAR -->
<div class="navbar">
  <div class="navbar-content">

    <a href="#" class="logo">
      <i class="fas fa-university"></i> Gov<span>Portal</span>
    </a>

    <div class="nav-links">
      <a href="dashboard.html">Dashboard</a>
      <a href="profile.html" class="active">Profile</a>
      <a href="courses.html">Courses</a>
      <a href="#" onclick="logout()" class="logout-btn-nav">Logout</a>
    </div>

  </div>
</div>


<!-- MAIN -->
<div class="container" style="margin-top:100px; max-width:900px;">

  <h2>My Profile</h2>
  <p class="subtitle">Personal & Account Information</p>


  <!-- PROFILE CARD -->
  <div class="card" style="text-align:center;">

    <img id="avatar"
      src="https://www.google.com/imgres?q=insta%20dp%20images%20like%20no%20profil%20image&imgurl=https%3A%2F%2Fphotoswaly.in%2Fwp-content%2Fuploads%2F2024%2F05%2Fno-dp-for-whatsapp_60.webp&imgrefurl=https%3A%2F%2Fphotoswaly.in%2Fno-dp%2F&docid=QYg-ysmrL4iYYM&tbnid=p8huskaQAfePHM&vet=12ahUKEwjmjLTbteeSAxX1_aACHb_5IwcQnPAOegQIIBAB..i&w=736&h=781&hcb=2&ved=2ahUKEwjmjLTbteeSAxX1_aACHb_5IwcQnPAOegQIIBAB"
      class="profile-avatar">

    <h3 id="showName">Harish</h3>
    <p id="showEmail" class="subtitle">user@govportal.gov</p>

    <input type="file" id="photoInput" hidden>

    <button onclick="changePhoto()">Change Photo</button>

  </div>


  <!-- EDIT PROFILE -->
  <div class="card">

    <h3>Edit Profile</h3>

    <form id="profileForm">

      <div class="input-group">
        <input type="text" id="name" placeholder="Full Name" required>
      </div>

      <div class="input-group">
        <input type="email" id="email" placeholder="Email" required>
      </div>

      <div class="input-group">
        <input type="text" id="phone" placeholder="Phone">
      </div>

      <div class="input-group">
        <input type="text" id="address" placeholder="Address">
      </div>

      <button type="submit">
        Save Changes
      </button>

    </form>

  </div>


  <!-- ACCOUNT STATUS -->
  <div class="card">

    <h3>Account Status</h3>

    <p>
      <strong>Status:</strong>
      <span style="color:var(--success-color)">Active</span>
    </p>

    <p><strong>Member:</strong> 2024</p>
    <p><strong>Last Login:</strong> Feb 2026</p>

  </div>

</div>


<script src="script.js"></script>

<script>


/* ======================
   LOAD PROFILE
====================== */
window.onload = () => {

  const data = JSON.parse(localStorage.getItem("gov_profile"));

  if (!data) return;

  name.value = data.name;
  email.value = data.email;
  phone.value = data.phone;
  address.value = data.address;

  showName.innerText = data.name;
  showEmail.innerText = data.email;

  if (data.photo) {
    avatar.src = data.photo;
  }

};


/* ======================
   SAVE PROFILE
====================== */
profileForm.addEventListener("submit", e => {

  e.preventDefault();

  const profile = {
    name: name.value,
    email: email.value,
    phone: phone.value,
    address: address.value,
    photo: avatar.src
  };

  localStorage.setItem(
    "gov_profile",
    JSON.stringify(profile)
  );

  showName.innerText = profile.name;
  showEmail.innerText = profile.email;

  alert("Profile Updated Successfully âœ…");

});


/* ======================
   PHOTO UPLOAD
====================== */
function changePhoto() {

  photoInput.click();

}


photoInput.addEventListener("change", () => {

  const file = photoInput.files[0];

  if (!file) return;

  const reader = new FileReader();

  reader.onload = () => {
    avatar.src = reader.result;
  };

  reader.readAsDataURL(file);

});


/* ======================
   LOGOUT
====================== */
function logout() {

  localStorage.removeItem("token");

  window.location.href = "index.html";

}

</script>

</body>
</html>
